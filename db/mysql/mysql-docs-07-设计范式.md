# 数据库范式

- 1. 任何表有主键，每个字段都是原子性不可拆分
- 2. 所有非主键字段，要完全依赖主键，不要部分依赖
- 3. 所有非主键字段，直接依赖主键，不要间接依赖



## 建表口诀

- 口诀： 多对多，三张表，关系表两外键
- 口诀： 一对多，两张表，多个表加外键
- 拆分表口诀： 一对一，外键 + 唯一约束


## 第二范式举例

比如多对多的关系：

学生编号   学生姓名   教师编号   教师姓名
---------------------------------------
1001 		张三		001 		王老师
1002		李四		002			赵老师
1003		王五		001 		王老师

改为：

学生表
学生编号   学生姓名
--------------------------
1001 		张三
1002		李四
1003		王五


教师表
教师编号   教师姓名
---------------------------
001 		王老师
002			赵老师

学生教师教师表
id 		教师编号   学生编号
---------------------------
1		001 		1001
2		002			1002
3		001			1003


## 第三范式举例
比如一对多的关系：

学生编号   学生姓名   班级编号   班级名称
---------------------------------------
1001 		张三		01 		一年一班
1002		李四		02			一年二班
1003		王五		03 		一年三班
1004		赵六		03 		一年三班

一年一班依赖01.01依赖于1001，产生了传递依赖
---

改为；


学生编号(pk)   学生姓名   班级编号(fK)
---------------------------------------
1001 		张三			01 		
1002		李四			02		
1003		王五			03 		
1004		赵六			03 		


班级编号(pk)     班级名称
-------------------------
01 				一年一班
02 				一年二班
03 				一年三班



## 分表


将一张表 拆分为2张表，通过添加外键（unique）的方式进行拆分